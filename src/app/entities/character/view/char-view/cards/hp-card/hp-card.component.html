<mat-card>
  <mat-card-header>
    <mat-card-title>
      HP
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div class="gridContainer">
      <div class="hp">
        <table>
          <tr>
            <th>
              HP
            </th>
            <th>
              Temp HP
            </th>
          </tr>
  
          <tr>
            <td>
              <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="this.hp" (ngModelChange)="this.hpDebounce.next($event)">
                <span matTextSuffix>/{{this.char.maxHp}}</span>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field appearance="outline">
                <input matInput [(ngModel)]="this.tempHp" (ngModelChange)="this.tempHpDebounce.next($event)">
                <span matTextSuffix>/{{this.char.maxTempHp}}</span>
              </mat-form-field>
            </td>
          </tr>
        </table>
      </div>
  
      <mat-card class="effects">
        <mat-card-content>

          <table mat-table [dataSource]="effectsTable" class="effectsTable">

            <ng-container matColumnDef="name">
              <td mat-cell *matCellDef="let element"> 
                {{element.name}}
              </td>
              <td mat-footer-cell *matFooterCellDef> <b>Total:</b> </td>
            </ng-container>
  
            <ng-container matColumnDef="hp">
              <td mat-cell *matCellDef="let element"> 
                {{element.hp > 0 ? '+' + element.hp : element.hp}}
              </td>
              <td mat-footer-cell *matFooterCellDef> <b>{{effectHpImpact}}</b> </td>
            </ng-container>
  
            <tr mat-row *matRowDef="let row; columns: effectsTableCols;"></tr>
            <tr mat-footer-row *matFooterRowDef="effectsTableCols; sticky: true"></tr>
          </table>
          
        </mat-card-content>
      </mat-card>
        
      <mat-card class="dyingRounds">
        <mat-card-content>
          <table mat-table [dataSource]="dyingTable" class="dyingTable">

            <ng-container matColumnDef="checkbox">
              <th mat-header-cell *matHeaderCellDef> Dying </th>
              <td mat-cell *matCellDef="let element, let i = index"> 
                <mat-checkbox [(ngModel)]="dying[i]" [disabled]="disabled[i]" (ngModelChange)="check()"></mat-checkbox>
              </td>
            </ng-container>
  
            <tr mat-header-row *matHeaderRowDef="dyingTableCols;"></tr>
            <tr mat-row *matRowDef="let row; columns: dyingTableCols;"></tr>
          </table>
        </mat-card-content>
      </mat-card>  
    </div>
  
    <div class="bodyparts">
      <svg viewBox="0 0 131.58624 248.07183">
        <g id="layer" transform="translate(-204.35176,-39.87952)">
          <circle class="hoverEffect" (contextmenu)="headRC($event)" (click)="headLC()" [ngClass]="bodypartColor(injuries.head)"
            style="fill-opacity:1;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:0;stroke-dasharray:none;stroke-opacity:1;paint-order:markers fill stroke"
            id="head" cx="270.14487" cy="60.87952" r="20"/>
          <path class="hoverEffect" (contextmenu)="torsoRC($event)" (click)="torsoLC()" [ngClass]="bodypartColor(injuries.torso)"
            style="stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
            d="m 270.14487,85.879519 c 3.33334,0 6.66667,0 13.33344,0.833351 6.66677,0.83335 16.66656,2.499981 21.66657,6.666715 5,4.166733 5,10.833265 3.3333,25.833505 -1.6667,15.00023 -4.99997,38.33309 -16.66684,49.99976 -11.66687,11.66667 -31.66647,11.66667 -43.33317,-2.3e-4 -11.6667,-11.6669 -14.99997,-34.99977 -16.66663,-49.99983 -1.66667,-15.00007 -1.66667,-21.666604 3.33343,-25.833287 5.0001,-4.166684 14.9999,-5.833317 21.6666,-6.666651 6.6667,-0.833333 9.99997,-0.833333 13.3333,-0.833333"
            id="torso"/>
          <path class="hoverEffect" (contextmenu)="rArmRC($event)" (click)="rArmLC()" [ngClass]="bodypartColor(injuries.armRight)"
            style="stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
            d="m 316.81154,111.71285 c 1.66666,-14.166666 5.00001,-12.499994 7.50002,-10.83331 2.50001,1.66668 4.16664,3.33331 5.83333,5.83335 1.66668,2.50003 3.33332,5.8333 4.16665,19.16686 0.83334,13.33357 0.83334,36.66643 -10e-6,49.9998 -0.83335,13.33337 -2.49999,16.66664 -4.16667,19.16666 -1.66668,2.50001 -3.33332,4.16664 -5.00001,4.16662 -1.66668,-2e-5 -3.33331,-1.66663 -5,-4.16667 -1.66669,-2.50004 -3.33332,-5.83331 -4.16665,-22.50028 -0.83333,-16.66696 -0.83333,-46.66636 0.83334,-60.83303 z"
            id="arm_right"/>
          <path class="hoverEffect" (contextmenu)="lArmRC($event)" (click)="lArmLC()" [ngClass]="bodypartColor(injuries.armLeft)"
            style="stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
            d="m 223.4782,111.71285 c -1.66666,-14.166665 -4.99999,-12.5 -7.50001,-10.83331 -2.50002,1.66668 -4.16665,3.33331 -5.83333,5.83334 -1.66669,2.50004 -3.33332,5.8333 -4.16666,19.16687 -0.83333,13.33357 -0.83333,36.66643 2e-5,49.9998 0.83335,13.33337 2.49999,16.66664 4.16667,19.16666 1.66668,2.50001 3.33331,4.16664 5,4.16663 1.66668,-2e-5 3.33331,-1.66665 5,-4.16669 1.66668,-2.50003 3.33332,-5.8333 4.16665,-22.50027 0.83333,-16.66696 0.83333,-46.66636 -0.83334,-60.83303 z"
            id="arm_left"/>
          <path class="hoverEffect" (contextmenu)="rLegRC($event)" (click)="rLegLC()" [ngClass]="bodypartColor(injuries.legRight)"
            style="stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
            d="m 285.14488,185.87952 c 4.99999,0 10,0 12.5,17.50035 2.49999,17.50035 2.49999,52.49965 -5e-5,69.99965 -2.50005,17.5 -7.49996,17.5 -11.66666,3.33305 -4.16669,-14.16695 -7.49996,-42.49972 -9.16663,-59.99978 -1.66667,-17.50007 -1.66667,-24.1666 4e-5,-27.49993 1.6667,-3.33334 4.99996,-3.33334 8.3333,-3.33334"
            id="leg_right"/>
          <path class="hoverEffect" (contextmenu)="lLegRC($event)" (click)="lLegLC()" [ngClass]="bodypartColor(injuries.legLeft)"
            style="stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
            d="m 255.14487,185.87952 c 3.33334,0 6.66667,0 8.33333,3.3334 1.66667,3.3334 1.66667,9.99993 -3e-5,27.50022 -1.6667,17.50028 -4.99997,45.83304 -9.16668,59.99971 -4.16672,14.16667 -9.16662,14.16667 -11.66662,-3.33368 -2.5,-17.50035 -2.5,-52.49965 5e-5,-69.99965 2.50005,-17.5 7.49995,-17.5 12.49995,-17.5"
            id="leg_left"/>
        </g>
      </svg>
    </div>
    
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <b>Defense</b>
        </mat-panel-title>
        {{this.defense}}
      </mat-expansion-panel-header>
      <table>
        <tr>
          <td class="type">Evasion</td> <td class="stat">{{this.char.evasion}}</td>
        </tr>
        <tr>
          <td class="type">Armor</td> <td class="stat">{{this.char.armor}}</td>
        </tr>
      </table>
    </mat-expansion-panel>
  </mat-card-content>
  
</mat-card>